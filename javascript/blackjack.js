!function(){var e,a,n=!0,d=1,t=0,l=document.getElementById("hit"),r=document.getElementById("stand"),i=document.getElementById("split"),s=document.getElementById("deal"),o=document.getElementById("double-down"),c=(document.getElementById("table"),document.getElementById("player-total-right")),w=!1,y=!1,u=!1,m=!1,p=!1,f=!1,v=!1,k=0,L=null,b=0,T=document.getElementById("game-text-left"),h=document.getElementById("game-text-right"),g=document.getElementById("dealer"),E={value:11,suit:"heart",ace:!0,index:0,drawn:0},B={value:2,suit:"heart",ace:!1,index:1,drawn:0},M={value:3,suit:"heart",ace:!1,index:2,drawn:0},I={value:4,suit:"heart",ace:!1,index:3,drawn:0},H={value:5,suit:"heart",ace:!1,index:4,drawn:0},x={value:6,suit:"heart",ace:!1,index:5,drawn:0},C={value:7,suit:"heart",ace:!1,index:6,drawn:0},A={value:8,suit:"heart",ace:!1,index:7,drawn:0},N={value:9,suit:"heart",ace:!1,index:8,drawn:0},J={value:10,suit:"heart",ace:!1,index:9,drawn:0},P={value:10,suit:"heart",ace:!1,index:10,drawn:0},W={value:10,suit:"heart",ace:!1,index:11,drawn:0};function j(){var e,n;switch(e=0,n=11,Math.floor(Math.random()*(n-e+1)+e)){case 0:if(E.drawn>4*d-1){a="redraw";break}a=E.value,E.drawn+=1,t+=1;break;case 1:if(B.drawn>4*d-1){a="redraw";break}a=B.value,B.drawn+=1,t+=1;break;case 2:if(M.drawn>4*d-1){a="redraw";break}a=M.value,M.drawn+=1,t+=1;break;case 3:if(I.drawn>4*d-1){a="redraw";break}a=I.value,I.drawn+=1,t+=1;break;case 4:if(H.drawn>4*d-1){a="redraw";break}a=H.value,H.drawn+=1,t+=1;break;case 5:if(x.drawn>4*d-1){a="redraw";break}a=x.value,x.drawn+=1,t+=1;break;case 6:if(C.drawn>4*d-1){a="redraw";break}a=C.value,C.drawn+=1,t+=1;break;case 7:if(A.drawn>4*d-1){a="redraw";break}a=A.value,A.drawn+=1,t+=1;break;case 8:if(N.drawn>4*d-1){a="redraw";break}a=N.value,N.drawn+=1,t+=1;break;case 9:if(J.drawn>4*d-1){a="redraw";break}a=J.value,J.drawn+=1,t+=1;break;case 10:if(P.drawn>4*d-1){a="redraw";break}a=P.value,P.drawn+=1,t+=1;break;case 11:if(W.drawn>4*d-1){a="redraw";break}a=W.value,W.drawn+=1,t+=1}}function q(){document.getElementById("player-total-left").innerHTML="Black Jack!",u=!0,r.style.display="none",l.style.display="none",o.style.display="none",s.style.display="inline-block"}function z(){if(0==y&&!0===n){var a=document.getElementsByClassName("cards-player-face-down")[0],d=document.getElementById("dealer-total");T.style.display="inline-block",r.style.display="none",l.style.display="none",s.style.display="inline-block",a.classList.add("cards-player"),a.innerHTML=e,a.classList.remove("cards-player-face-down"),b+=e,d.innerHTML="Total: "+b,T.style.display="inline-block",T.innerHTML="Bust"}if(1==n&&1==y)T.style.display="inline-block",O();else{a=document.getElementsByClassName("cards-player-face-down")[0],d=document.getElementById("dealer-total");h.style.display="inline-block",r.style.display="none",l.style.display="none",s.style.display="inline-block",a.classList.add("cards-player"),a.innerHTML=e,a.classList.remove("cards-player-face-down"),b+=e,d.innerHTML="Total: "+b,h.style.display="inline-block",h.innerHTML="Bust"}}function D(){var e=document.getElementById("player-total-left"),l=document.createElement("div"),r=document.getElementById("left");if(o.style.display="none",1==w&&(w=!1,i.style.display="none"),k>21&&z(),1==n){for(j();"redraw"==a;)j(),t>=48*d&&(E.drawn=0,B.drawn=0,M.drawn=0,I.drawn=0,H.drawn=0,x.drawn=0,C.drawn=0,A.drawn=0,N.drawn=0,J.drawn=0,P.drawn=0,W.drawn=0,t=0);11==a&&1==p&&(a=1),11==a&&(k<=10&&(m=!0),k>10&&(a=1),p=!0),k+=a,1==m&&k>21&&(k-=10,m=!1,11==a&&(m=!0)),l.classList.add("cards-player"),11!=a&&1!=a||(a="A"),l.innerHTML=a,0!=m&&21!=k||(e.innerHTML="Total: "+k),1==m&&21!=k&&(e.innerHTML="Total: "+k+" or "+(k-10)),r.appendChild(l),$(l).hide().delay(200).show("slow"),k>21&&z(),21==k&&1!=u&&K()}if(0==n){for(j();"redraw"==a;)j(),t>=48*d&&(E.drawn=0,B.drawn=0,M.drawn=0,I.drawn=0,H.drawn=0,x.drawn=0,C.drawn=0,A.drawn=0,N.drawn=0,J.drawn=0,P.drawn=0,W.drawn=0,t=0);11==a&&1==p&&(a=1),11==a&&(L<=10&&(m=!0),L>10&&(a=1),p=!0),L+=a,1==m&&L>21&&(L-=10,m=!1,11==a&&(m=!0)),l.classList.add("cards-player"),11!=a&&1!=a||(a="A"),l.innerHTML=a,0!=m&&21!=L||(c.innerHTML="Total: "+L),1==m&&21!=L&&(c.innerHTML="Total: "+L+" or "+(L-10)),right.appendChild(l),$(l).hide().delay(200).show("slow"),L>21&&z(),21==L&&1!=u&&K()}}function F(){var e=document.createElement("div");document.getElementById("dealer-total");for(j();"redraw"==a;)j(),t>=48*d&&(E.drawn=0,B.drawn=0,M.drawn=0,I.drawn=0,H.drawn=0,x.drawn=0,C.drawn=0,A.drawn=0,N.drawn=0,J.drawn=0,P.drawn=0,W.drawn=0,t=0);11==a&&1==v&&(a=1),11==a&&(b<=10&&(f=!0),(1==v||b>10)&&(a=1),v=!0),b+=a,1==f&&b>21&&(b-=10,f=!1,11==a&&(f=!0)),e.classList.add("cards-player"),11!=a&&1!=a||(a="A"),left.appendChild(e),e.classList.add("cards-player"),e.innerHTML=a,$(e).hide().delay(200).show("slow").delay(1e3),g.appendChild(e)}function G(){var n=document.createElement("div");for(j();"redraw"==a;)j(),t>=48*d&&(E.drawn=0,B.drawn=0,M.drawn=0,I.drawn=0,H.drawn=0,x.drawn=0,C.drawn=0,A.drawn=0,N.drawn=0,J.drawn=0,P.drawn=0,W.drawn=0,t=0);n.classList.add("cards-player-face-down"),g.appendChild(n),$(n).hide().delay(1e3).show("slow").delay(1e3),e=a}function K(){if(0==y){var a=document.getElementsByClassName("cards-player-face-down")[0],n=document.getElementById("dealer-total");for(r.style.display="none",l.style.display="none",i.style.display="none",s.style.display="inline-block",o.style.display="none",a.classList.add("cards-player"),a.innerHTML=e,a.classList.remove("cards-player-face-down"),b+=e;b<17;)F();n.innerHTML="Total: "+b,(k>b&&k<=21||b>21)&&(T.style.display="inline-block",T.innerHTML="Win"),k<b&&b<=21&&(T.style.display="inline-block",T.innerHTML="Lose"),k==b&&(T.style.display="inline-block",T.innerHTML="Push")}else O()}function O(){var e=document.getElementById("right"),a=document.getElementById("left");y=!1,n=!1,11!=L&&(p=!1,m=!1),e.classList.add("active"),a.classList.remove("active")}l.addEventListener("click",D,!1),s.addEventListener("click",function(){var e,n=document.getElementById("dealer-total"),d=document.getElementById("player-total-left");k=0,b=0,$(".cards-player").remove(),d.innerHTML="Total: 0",n.innerHTML="",T.style.display="none",p=!1,m=!1,f=!1,window.setTimeout(G,100),window.setTimeout(F,1e3),window.setTimeout(D,2e3),window.setTimeout(function(){e=a},2001),window.setTimeout(D,2003),window.setTimeout(function(){(k/2==e||"A"==e&&12==k)&&(w=!0,i.style.display="inline-block");21==k&&q()},2004),window.setTimeout(function(){o.style.display="inline-block",l.style.display="inline-block",r.style.display="inline-block"},2003),s.style.display="none"},!1),r.addEventListener("click",K,!1),o.addEventListener("click",function(){o.style.display="none",D(),K()},!1),i.addEventListener("click",function(){document.getElementById("left");var e=document.getElementById("player-total-right"),n=document.getElementById("player-total-left"),d=document.createElement("div"),t=document.getElementById("right");$("#left div:nth-child(3)").remove(),13==k?(k=11,L=11):L=(k/=2)/2;n.innerHTML="Total: "+k,e.innerHTML="Total: "+k,y=!0,d.innerHTML=a,console.log(a),i.style.display="none",d.classList.add("cards-player"),t.appendChild(d)},!1)}();